### EPC2 set-theory
см. https://github.com/bpmbpm/doc/blob/main/METAMODEL/PROCESS/EPC/epc_set-theory.md

## Описание бизнес-процесса в формализме теории множеств

### 1. Базовые множества

**Универсум объектов процесса:**
```
U = {Событие1, Операция1, Событие2, Событие3, Документ1, Документ2, Документ3}
```

**Множество типов объектов:**
```
T = {Event, Function, Document}
```

### 2. Множества объектов по типам

**Множество событий:**
```
E = {x ∈ U | тип(x) = Event} = {Событие1, Событие2, Событие3}
```

**Множество функций:**
```
F = {x ∈ U | тип(x) = Function} = {Операция1}
```

**Множество документов:**
```
D = {x ∈ U | тип(x) = Document} = {Документ1, Документ2, Документ3}
```

### 3. Функция типизации

**Функция, сопоставляющая объекту его тип:**
```
тип: U → T
тип(Событие1) = Event
тип(Операция1) = Function
тип(Событие2) = Event
тип(Событие3) = Event
тип(Документ1) = Document
тип(Документ2) = Document
тип(Документ3) = Document
```

### 4. Отношения между объектами

**Отношение "вызывается":**
```
R_trigger = {(e, f) ∈ E × F | e вызывает f} = {(Событие1, Операция1)}
```

**Отношение "приводит к событию":**
```
R_produces_event = {(f, e) ∈ F × E | f приводит к e} 
                 = {(Операция1, Событие2), (Операция1, Событие3)}
```

**Отношение "использует как вход":**
```
R_input = {(d, f) ∈ D × F | d является входом для f} = {(Документ1, Операция1)}
```

**Отношение "создает документ":**
```
R_creates = {(f, d) ∈ F × D | f создает d} 
          = {(Операция1, Документ2), (Операция1, Документ3)}
```

**Отношение "подтверждает":**
```
R_validates = {(e, d) ∈ E × D | e подтверждает d} = {(Событие2, Документ2)}
```

**Отношение "отклоняет":**
```
R_invalidates = {(e, d) ∈ E × D | e отклоняет d} = {(Событие3, Документ3)}
```

### 5. Множество статусов документов

**Множество возможных статусов:**
```
S = {НОВЫЙ, УТВЕРЖДЁН, ОТКЛОНЁН}
```

**Функция статусов документов:**
```
статус: D → S
статус(Документ1) = НОВЫЙ
статус(Документ2) = УТВЕРЖДЁН
статус(Документ3) = ОТКЛОНЁН
```

### 6. Отношения принадлежности к процессам

**Множество процессов:**
```
P = {Workflow, Docflow}
```

**Отношение принадлежности к Workflow:**
```
R_workflow = {(x, Workflow) | x ∈ {Событие1, Операция1, Событие2, Событие3}}
           = {(Событие1, Workflow), (Операция1, Workflow), 
              (Событие2, Workflow), (Событие3, Workflow)}
```

**Отношение принадлежности к Docflow:**
```
R_docflow = {(x, Docflow) | x ∈ {Документ1, Операция1, Документ2, Документ3}}
          = {(Документ1, Docflow), (Операция1, Docflow),
             (Документ2, Docflow), (Документ3, Docflow)}
```

### 7. Отношение альтернативных исходов

**Отношение взаимоисключения документов:**
```
R_mutually_exclusive = {(Документ2, Документ3)}
```

**Отношение взаимоисключения событий:**
```
R_mutually_exclusive_events = {(Событие2, Событие3)}
```

### 8. Функция условий выполнения

**Функция условий для событий:**
```
условие: E → C (где C - множество условий)
условие(Событие2) = "заявление соответствует требованиям"
условие(Событие3) = "заявление не соответствует требованиям"
```

### 9. Полная модель процесса

**Процесс как алгебраическая структура:**
```
Process_Algebra = ⟨U, T, E, F, D, P, S, C, 
                  R_trigger, R_produces_event, R_input, R_creates,
                  R_validates, R_invalidates, R_workflow, R_docflow,
                  R_mutually_exclusive, R_mutually_exclusive_events,
                  тип, статус, условие⟩
```

### 10. Свойства модели

**Свойство целостности:**
```
∀f ∈ F, ∃e ∈ E: (e, f) ∈ R_trigger  (каждая функция имеет триггер)
∀d ∈ D \ {Документ1}, ∃f ∈ F: (f, d) ∈ R_creates  (все документы кроме входного создаются функциями)
```

**Свойство непротиворечивости статусов:**
```
∀d ∈ D: (статус(d) = УТВЕРЖДЁН) ⇒ ∃e ∈ E: (e, d) ∈ R_validates
∀d ∈ D: (статус(d) = ОТКЛОНЁН) ⇒ ∃e ∈ E: (e, d) ∈ R_invalidates
```

**Свойство взаимоисключения:**
```
∀(d1, d2) ∈ R_mutually_exclusive: статус(d1) ≠ статус(d2)
∀(e1, e2) ∈ R_mutually_exclusive_events: ¬(∃f ∈ F: (f, e1) ∈ R_produces_event ∧ (f, e2) ∈ R_produces_event)
```

Данная формализация в теории множеств полностью описывает структуру бизнес-процесса, включая все объекты, отношения между ними, статусы документов, условия выполнения и свойства целостности модели.
